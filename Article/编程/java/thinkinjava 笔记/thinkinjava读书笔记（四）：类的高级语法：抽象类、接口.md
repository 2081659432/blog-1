发布时间：2015-10-01
更新时间：2015-10-01 17:16:58
[github 项目：SimplyY 的博客](https://github.com/SimplyY/Blog/)
# thinkinjava读书笔记（四）：类的高级语法：抽象类、接口
## 抽象类
- 定义：
	- 包含抽象方法的类或不能被实例化的类。
	- 也就是说只要一个类包含一个或多个抽象方法，该类必须是抽象类（不然编译器会报错）。
- 特点：
	- 抽象类不能被实例化
	- 如果一个类继承了抽象类
		1. 当这个类不是抽象类时，就必须为基类中的所有抽象方法提供方法的实现。
		2. 当这个类是抽象类时，既可以实现基类的抽象方法，也可以不实现。
- 抽象函数
	- 静态方法不能声明称抽象函数。就好像在接口内无法声明静态方法。

## 接口
- 含义：
	- 一个完全抽象的类
	- 一个特定接口表示，所有实现了这个接口的类，都具有这些功能。
- 作用：
	- 用于多态
		- 和基类的作用一样，可以将其向上转型成接口来是吸纳多态。
	- 用于多根继承
		- java是不允许多根继承的，然而如果把`implements`看做特殊的`extends`，就可以间接的允许多根继承了。
	- 用于建立类与类之间的协议
		- 由于接口的含义，规定了子类的功能，所以常用来建立类与类之间的协议。
		- 比如说，类`A`需要使用一个功能，这个功能由接口`f`规定，只要实现了这个功能的类（比如`Bs`类们，s指`B`类可以为复数）就可以作为被调用对象，让A去调用，在这个过程中，`Bs`会向上转型成`f`（这也是多态的一种方式），然后`A`调用向上转型得到的`f`的功能。而这里的`f`即是类`A`与类`Bs`们的协议。
- 特点：
	- 接口中的每一个方法的声明自动就是public的
		- 如果不是，在子类的这个方法将不能被调用，而接口的存在意义就是给外部使用的。
- 完全解耦的用法
	- 策略模式
		- 使用接口作为基类参数，子类传入函数`f`会自动向上转型，由于多态的性质，使得可以根据子类的类型来调用不同函数。
		- 这时，接口相当于函数`f`和子类的中间层，达到了解耦的效果。
	- 策略模式适用于，函数`f`可以修改的时候，但有的时候，无法修改（比如类库里的函数），这时就需要使用适配器模式。
	- 适配器模式
		- 使用：
			1. 适配器模式用于一个类`A`。
			2. 将拥有函数`f`的
				1. 类作为类`A`的基类
				2. 对象作为`A`的成员属性
		- 这样使得，适配器类成为了*拥有函数`f`的类*和需实现功能的中间层，达到了解耦的效果。
	- 这两种设计模式在需要时（无法修改`f`时）是可以组合使用的，因为冲突，反而由于这两种中间层的缘故，达到了think里说的完全解耦的效果（当然没有需求的话，也是完全解耦的，这里最重要的是**中间层的概念**）。
- 注意：
	- 可以使用`extends`来扩展接口，以此拥有新的接口，和类的`extend`很相似。
	- 尽量不要让不同接口里声明的方法名类似，这时会造成混淆、非常难以阅读。
	- 接口可以作为规定工厂模式的工厂方法，例如：

		```
		interface ServiceFactory{
			Service getService();
		}
		```
